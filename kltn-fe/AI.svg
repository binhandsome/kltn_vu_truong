<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="890px" preserveAspectRatio="none" style="width:748px;height:890px;background:#FFFFFF;" version="1.1" viewBox="0 0 748 890" width="748px" zoomAndPan="magnify"><defs/><g><ellipse cx="359.543" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168.1016" x="275.4922" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.0254" x="318.5303" y="72.9492">&#272;&#7885;c file JSONL</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148.1016" x="285.4922" y="88.9102">(d&#7919; li&#7879;u s&#7843;n ph&#7849;m Amazon)</text><rect fill="#F1F1F1" height="83.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165.418" x="276.834" y="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96.0996" x="311.4932" y="144.8711">Ti&#7873;n x&#7917; l&#253; d&#7919; li&#7879;u:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32.0098" x="343.5381" y="160.832">- fillna</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.418" x="286.834" y="176.793">- x&#7917; l&#253; category, salesRank</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83.959" x="317.5635" y="192.7539">- t&#7841;o 'combined'</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.0508" x="291.5176" y="225.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.0508" x="301.5176" y="248.7148">SentenceTransformer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115.7695" x="301.6582" y="264.6758">&#8594; encode embedding</text><polygon fill="#F1F1F1" points="326.833,297.6875,392.2529,297.6875,404.2529,309.6875,392.2529,321.6875,326.833,321.6875,314.833,309.6875,326.833,297.6875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65.4199" x="326.833" y="314.2422">GPU c&#243; s&#7861;n?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.0615" x="300.7715" y="306.9268">C&#243;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31.8076" x="404.2529" y="306.9268">Kh&#244;ng</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104.375" x="246.8364" y="331.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84.375" x="256.8364" y="354.6367">DEVICE = cuda</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="97.7012" x="371.2114" y="331.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77.7012" x="381.2114" y="354.6367">DEVICE = cpu</text><polygon fill="#F1F1F1" points="359.543,373.6484,371.543,385.6484,359.543,397.6484,347.543,385.6484,359.543,373.6484" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.9238" x="298.5811" y="417.6484"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101.9238" x="308.5811" y="440.5977">Gi&#7899;i h&#7841;n danh m&#7909;c</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.0566" x="319.5146" y="456.5586">(balance_data)</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116.7148" x="301.1855" y="489.5703"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96.7148" x="311.1855" y="512.5195">Build FAISS index</text><line style="stroke:#000000;stroke-width:1.5;" x1="100.0576" x2="645.0322" y1="589.5313" y2="589.5313"/><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178.1152" x="11" y="617.5117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158.1152" x="21" y="640.4609">Ch&#7885;n 50K sample ng&#7851;u nhi&#234;n</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="179.3281" x="199.1152" y="609.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159.3281" x="209.1152" y="632.4805">T&#236;m top-K s&#7843;n ph&#7849;m t&#432;&#417;ng t&#7921;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58.6875" x="259.4355" y="648.4414">tr&#234;n FAISS</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165.5352" x="406.4434" y="609.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51.3691" x="463.5264" y="632.4805">&#272;&#225;nh gi&#225;:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.5352" x="416.4434" y="648.4414">Precision@K, MRR, NDCG</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126.1074" x="581.9785" y="617.5117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106.1074" x="591.9785" y="640.4609">V&#7869; bi&#7875;u &#273;&#7891; t&#7915;ng run</text><line style="stroke:#000000;stroke-width:1.5;" x1="100.0576" x2="645.0322" y1="681.4531" y2="681.4531"/><polygon fill="#F1F1F1" points="359.543,545.5313,371.543,557.5313,359.543,569.5313,347.543,557.5313,359.543,545.5313" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="323.7661,701.4531,395.3198,701.4531,407.3198,713.4531,395.3198,725.4531,323.7661,725.4531,311.7661,713.4531,323.7661,701.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71.5537" x="323.7661" y="718.0078">Run ti&#7871;p theo?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.0615" x="407.3198" y="710.6924">C&#243;</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.4199" x="277.833" y="745.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.4199" x="287.833" y="768.4023">Trung b&#236;nh k&#7871;t qu&#7843; c&#225;c run</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="134.7559" x="292.165" y="801.4141"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114.7559" x="302.165" y="824.3633">V&#7869; bi&#7875;u &#273;&#7891; trung b&#236;nh</text><ellipse cx="359.543" cy="868.375" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="359.543" cy="868.375" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="30" y2="50"/><polygon fill="#000000" points="355.543,40,359.543,50,363.543,40,359.543,44" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="101.9219" y2="121.9219"/><polygon fill="#000000" points="355.543,111.9219,359.543,121.9219,363.543,111.9219,359.543,115.9219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="205.7656" y2="225.7656"/><polygon fill="#000000" points="355.543,215.7656,359.543,225.7656,363.543,215.7656,359.543,219.7656" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="314.833" x2="299.0239" y1="309.6875" y2="309.6875"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="299.0239" y1="309.6875" y2="331.6875"/><polygon fill="#000000" points="295.0239,321.6875,299.0239,331.6875,303.0239,321.6875,299.0239,325.6875" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="404.2529" x2="420.062" y1="309.6875" y2="309.6875"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="420.062" y1="309.6875" y2="331.6875"/><polygon fill="#000000" points="416.062,321.6875,420.062,331.6875,424.062,321.6875,420.062,325.6875" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="299.0239" y1="367.6484" y2="385.6484"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="347.543" y1="385.6484" y2="385.6484"/><polygon fill="#000000" points="337.543,381.6484,347.543,385.6484,337.543,389.6484,341.543,385.6484" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="420.062" y1="367.6484" y2="385.6484"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="371.543" y1="385.6484" y2="385.6484"/><polygon fill="#000000" points="381.543,381.6484,371.543,385.6484,381.543,389.6484,377.543,385.6484" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="277.6875" y2="297.6875"/><polygon fill="#000000" points="355.543,287.6875,359.543,297.6875,363.543,287.6875,359.543,291.6875" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="397.6484" y2="417.6484"/><polygon fill="#000000" points="355.543,407.6484,359.543,417.6484,363.543,407.6484,359.543,411.6484" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="469.5703" y2="489.5703"/><polygon fill="#000000" points="355.543,479.5703,359.543,489.5703,363.543,479.5703,359.543,483.5703" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="100.0576" x2="100.0576" y1="591.0313" y2="617.5117"/><polygon fill="#000000" points="96.0576,607.5117,100.0576,617.5117,104.0576,607.5117,100.0576,611.5117" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="288.7793" x2="288.7793" y1="591.0313" y2="609.5313"/><polygon fill="#000000" points="284.7793,599.5313,288.7793,609.5313,292.7793,599.5313,288.7793,603.5313" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="489.2109" x2="489.2109" y1="591.0313" y2="609.5313"/><polygon fill="#000000" points="485.2109,599.5313,489.2109,609.5313,493.2109,599.5313,489.2109,603.5313" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="645.0322" x2="645.0322" y1="591.0313" y2="617.5117"/><polygon fill="#000000" points="641.0322,607.5117,645.0322,617.5117,649.0322,607.5117,645.0322,611.5117" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="100.0576" x2="100.0576" y1="653.4727" y2="681.4531"/><polygon fill="#000000" points="96.0576,671.4531,100.0576,681.4531,104.0576,671.4531,100.0576,675.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="288.7793" x2="288.7793" y1="661.4531" y2="681.4531"/><polygon fill="#000000" points="284.7793,671.4531,288.7793,681.4531,292.7793,671.4531,288.7793,675.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="489.2109" x2="489.2109" y1="661.4531" y2="681.4531"/><polygon fill="#000000" points="485.2109,671.4531,489.2109,681.4531,493.2109,671.4531,489.2109,675.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="645.0322" x2="645.0322" y1="653.4727" y2="681.4531"/><polygon fill="#000000" points="641.0322,671.4531,645.0322,681.4531,649.0322,671.4531,645.0322,675.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="569.5313" y2="589.5313"/><polygon fill="#000000" points="355.543,579.5313,359.543,589.5313,363.543,579.5313,359.543,583.5313" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="407.3198" x2="722.0859" y1="713.4531" y2="713.4531"/><polygon fill="#000000" points="718.0859,645.4922,722.0859,635.4922,726.0859,645.4922,722.0859,641.4922" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="722.0859" x2="722.0859" y1="557.5313" y2="713.4531"/><line style="stroke:#000000;stroke-width:1;" x1="722.0859" x2="371.543" y1="557.5313" y2="557.5313"/><polygon fill="#000000" points="381.543,553.5313,371.543,557.5313,381.543,561.5313,377.543,557.5313" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="682.9531" y2="701.4531"/><polygon fill="#000000" points="355.543,691.4531,359.543,701.4531,363.543,691.4531,359.543,695.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="525.5313" y2="545.5313"/><polygon fill="#000000" points="355.543,535.5313,359.543,545.5313,363.543,535.5313,359.543,539.5313" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="725.4531" y2="745.4531"/><polygon fill="#000000" points="355.543,735.4531,359.543,745.4531,363.543,735.4531,359.543,739.4531" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="781.4141" y2="801.4141"/><polygon fill="#000000" points="355.543,791.4141,359.543,801.4141,363.543,791.4141,359.543,795.4141" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="837.375" y2="857.375"/><polygon fill="#000000" points="355.543,847.375,359.543,857.375,363.543,847.375,359.543,851.375" style="stroke:#000000;stroke-width:1;"/><!--SRC=[RLB1RjD04BtxA-RMH4ebBbmI8IXfYKgWL4deAH9QUzVsAkjPiruhAJU4H4z81OwSBCG1MWIeS8bLSN3K_rY-X75JIa2vs9RVl9dttamsaPWomnBmMJ29ZCwHTxNI1gQnjCBBhl4iPbnF9KOGCfMj8bl6wEcIv2lgiW9n4R9SsP6OsIqb8qm4MWZe8SnAbP8ex64gG1iRwnKWqQY3sEX4W3Mvy3mliynOpsilZbtvAe1GAW7tXu_s7eonmLtvXNgvyYY7pCtV8wInctyaWGbxfh7P8Tw8uES8CrT-1bMTmmgdFSRDkg52LdzTbmJCYaYRmnPaJ8bim71IuzRD2mqRWKvyaiytwkx3sXa6OcGOPg4sYJ1Z_FNo3T1FpGM8n1USKuPKB4DezFOVGr2TrMf_uEqcs5WWDBhLMTC3Q6_l7EnsT-0M13bd7KzGwj3enzLtZFx3qvnWv38a3Jqoyqu2EIyGECCO4bT-22WVdob6ufvmPjbb67TpgJZSszeT3a4Y5pFwQKGgcANsMQfa_QP1tPZ2HhXveqyH92b5Zf6Rd-I0iQm-OUTFDR28ILnoHjLf0bQdc_r_Ts4llbuKT4JMbT_6Q0tnbmhMTbaSLmKvY6HLq7hsZGXa9ZNUwRVWuM3GWhtjRcyjyS3Dpy6dA5xai7ZjohVrm1EQQ_9BlPJMbSEbuVhSoLTZa2DOwUO_qtePcdOYiwkDqF4GEGA_EYL94wgny3GdRxJ28bWsNZVtBwbJtwzElTy0]--></g></svg>