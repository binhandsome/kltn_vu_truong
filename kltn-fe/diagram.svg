<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="929px" preserveAspectRatio="none" style="width:748px;height:929px;background:#FFFFFF;" version="1.1" viewBox="0 0 748 929" width="748px" zoomAndPan="magnify"><title>Quy tr&#236;nh thu th&#7853;p v&#224; x&#7917; l&#253; d&#7919; li&#7879;u</title><defs/><g><g class="title" data-source-line="9"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="228.7441" x="258.1709" y="35.1074">Quy tr&#236;nh thu th&#7853;p v&#224; x&#7917; l&#253; d&#7919; li&#7879;u</text></g><ellipse cx="359.543" cy="59.6211" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168.1016" x="275.4922" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.0254" x="318.5303" y="112.5703">&#272;&#7885;c file JSONL</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148.1016" x="285.4922" y="128.5313">(d&#7919; li&#7879;u s&#7843;n ph&#7849;m Amazon)</text><rect fill="#F1F1F1" height="83.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165.418" x="276.834" y="161.543"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96.0996" x="311.4932" y="184.4922">Ti&#7873;n x&#7917; l&#253; d&#7919; li&#7879;u:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32.0098" x="343.5381" y="200.4531">- fillna</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.418" x="286.834" y="216.4141">- x&#7917; l&#253; category, salesRank</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83.959" x="317.5635" y="232.375">- t&#7841;o 'combined'</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.0508" x="291.5176" y="265.3867"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.0508" x="301.5176" y="288.3359">SentenceTransformer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115.7695" x="301.6582" y="304.2969">&#8594; encode embedding</text><polygon fill="#F1F1F1" points="326.833,337.3086,392.2529,337.3086,404.2529,349.3086,392.2529,361.3086,326.833,361.3086,314.833,349.3086,326.833,337.3086" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65.4199" x="326.833" y="353.8633">GPU c&#243; s&#7861;n?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.0615" x="300.7715" y="346.5479">C&#243;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31.8076" x="404.2529" y="346.5479">Kh&#244;ng</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104.375" x="246.8364" y="371.3086"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84.375" x="256.8364" y="394.2578">DEVICE = cuda</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="97.7012" x="371.2114" y="371.3086"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77.7012" x="381.2114" y="394.2578">DEVICE = cpu</text><polygon fill="#F1F1F1" points="359.543,413.2695,371.543,425.2695,359.543,437.2695,347.543,425.2695,359.543,413.2695" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.9238" x="298.5811" y="457.2695"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101.9238" x="308.5811" y="480.2188">Gi&#7899;i h&#7841;n danh m&#7909;c</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.0566" x="319.5146" y="496.1797">(balance_data)</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116.7148" x="301.1855" y="529.1914"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96.7148" x="311.1855" y="552.1406">Build FAISS index</text><line style="stroke:#000000;stroke-width:1.5;" x1="100.0576" x2="645.0322" y1="629.1523" y2="629.1523"/><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178.1152" x="11" y="657.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158.1152" x="21" y="680.082">Ch&#7885;n 50K sample ng&#7851;u nhi&#234;n</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="179.3281" x="199.1152" y="649.1523"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159.3281" x="209.1152" y="672.1016">T&#236;m top-K s&#7843;n ph&#7849;m t&#432;&#417;ng t&#7921;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58.6875" x="259.4355" y="688.0625">tr&#234;n FAISS</text><rect fill="#F1F1F1" height="51.9219" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165.5352" x="406.4434" y="649.1523"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51.3691" x="463.5264" y="672.1016">&#272;&#225;nh gi&#225;:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.5352" x="416.4434" y="688.0625">Precision@K, MRR, NDCG</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126.1074" x="581.9785" y="657.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106.1074" x="591.9785" y="680.082">V&#7869; bi&#7875;u &#273;&#7891; t&#7915;ng run</text><line style="stroke:#000000;stroke-width:1.5;" x1="100.0576" x2="645.0322" y1="721.0742" y2="721.0742"/><polygon fill="#F1F1F1" points="359.543,585.1523,371.543,597.1523,359.543,609.1523,347.543,597.1523,359.543,585.1523" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="323.7661,741.0742,395.3198,741.0742,407.3198,753.0742,395.3198,765.0742,323.7661,765.0742,311.7661,753.0742,323.7661,741.0742" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71.5537" x="323.7661" y="757.6289">Run ti&#7871;p theo?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.0615" x="407.3198" y="750.3135">C&#243;</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.4199" x="277.833" y="785.0742"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.4199" x="287.833" y="808.0234">Trung b&#236;nh k&#7871;t qu&#7843; c&#225;c run</text><rect fill="#F1F1F1" height="35.9609" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="134.7559" x="292.165" y="841.0352"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114.7559" x="302.165" y="863.9844">V&#7869; bi&#7875;u &#273;&#7891; trung b&#236;nh</text><ellipse cx="359.543" cy="907.9961" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="359.543" cy="907.9961" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="69.6211" y2="89.6211"/><polygon fill="#000000" points="355.543,79.6211,359.543,89.6211,363.543,79.6211,359.543,83.6211" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="141.543" y2="161.543"/><polygon fill="#000000" points="355.543,151.543,359.543,161.543,363.543,151.543,359.543,155.543" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="245.3867" y2="265.3867"/><polygon fill="#000000" points="355.543,255.3867,359.543,265.3867,363.543,255.3867,359.543,259.3867" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="314.833" x2="299.0239" y1="349.3086" y2="349.3086"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="299.0239" y1="349.3086" y2="371.3086"/><polygon fill="#000000" points="295.0239,361.3086,299.0239,371.3086,303.0239,361.3086,299.0239,365.3086" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="404.2529" x2="420.062" y1="349.3086" y2="349.3086"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="420.062" y1="349.3086" y2="371.3086"/><polygon fill="#000000" points="416.062,361.3086,420.062,371.3086,424.062,361.3086,420.062,365.3086" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="299.0239" y1="407.2695" y2="425.2695"/><line style="stroke:#000000;stroke-width:1;" x1="299.0239" x2="347.543" y1="425.2695" y2="425.2695"/><polygon fill="#000000" points="337.543,421.2695,347.543,425.2695,337.543,429.2695,341.543,425.2695" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="420.062" y1="407.2695" y2="425.2695"/><line style="stroke:#000000;stroke-width:1;" x1="420.062" x2="371.543" y1="425.2695" y2="425.2695"/><polygon fill="#000000" points="381.543,421.2695,371.543,425.2695,381.543,429.2695,377.543,425.2695" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="317.3086" y2="337.3086"/><polygon fill="#000000" points="355.543,327.3086,359.543,337.3086,363.543,327.3086,359.543,331.3086" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="437.2695" y2="457.2695"/><polygon fill="#000000" points="355.543,447.2695,359.543,457.2695,363.543,447.2695,359.543,451.2695" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="509.1914" y2="529.1914"/><polygon fill="#000000" points="355.543,519.1914,359.543,529.1914,363.543,519.1914,359.543,523.1914" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="100.0576" x2="100.0576" y1="630.6523" y2="657.1328"/><polygon fill="#000000" points="96.0576,647.1328,100.0576,657.1328,104.0576,647.1328,100.0576,651.1328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="288.7793" x2="288.7793" y1="630.6523" y2="649.1523"/><polygon fill="#000000" points="284.7793,639.1523,288.7793,649.1523,292.7793,639.1523,288.7793,643.1523" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="489.2109" x2="489.2109" y1="630.6523" y2="649.1523"/><polygon fill="#000000" points="485.2109,639.1523,489.2109,649.1523,493.2109,639.1523,489.2109,643.1523" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="645.0322" x2="645.0322" y1="630.6523" y2="657.1328"/><polygon fill="#000000" points="641.0322,647.1328,645.0322,657.1328,649.0322,647.1328,645.0322,651.1328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="100.0576" x2="100.0576" y1="693.0938" y2="721.0742"/><polygon fill="#000000" points="96.0576,711.0742,100.0576,721.0742,104.0576,711.0742,100.0576,715.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="288.7793" x2="288.7793" y1="701.0742" y2="721.0742"/><polygon fill="#000000" points="284.7793,711.0742,288.7793,721.0742,292.7793,711.0742,288.7793,715.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="489.2109" x2="489.2109" y1="701.0742" y2="721.0742"/><polygon fill="#000000" points="485.2109,711.0742,489.2109,721.0742,493.2109,711.0742,489.2109,715.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="645.0322" x2="645.0322" y1="693.0938" y2="721.0742"/><polygon fill="#000000" points="641.0322,711.0742,645.0322,721.0742,649.0322,711.0742,645.0322,715.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="609.1523" y2="629.1523"/><polygon fill="#000000" points="355.543,619.1523,359.543,629.1523,363.543,619.1523,359.543,623.1523" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="407.3198" x2="722.0859" y1="753.0742" y2="753.0742"/><polygon fill="#000000" points="718.0859,685.1133,722.0859,675.1133,726.0859,685.1133,722.0859,681.1133" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="722.0859" x2="722.0859" y1="597.1523" y2="753.0742"/><line style="stroke:#000000;stroke-width:1;" x1="722.0859" x2="371.543" y1="597.1523" y2="597.1523"/><polygon fill="#000000" points="381.543,593.1523,371.543,597.1523,381.543,601.1523,377.543,597.1523" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="722.5742" y2="741.0742"/><polygon fill="#000000" points="355.543,731.0742,359.543,741.0742,363.543,731.0742,359.543,735.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="565.1523" y2="585.1523"/><polygon fill="#000000" points="355.543,575.1523,359.543,585.1523,363.543,575.1523,359.543,579.1523" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="765.0742" y2="785.0742"/><polygon fill="#000000" points="355.543,775.0742,359.543,785.0742,363.543,775.0742,359.543,779.0742" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="821.0352" y2="841.0352"/><polygon fill="#000000" points="355.543,831.0352,359.543,841.0352,363.543,831.0352,359.543,835.0352" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="359.543" x2="359.543" y1="876.9961" y2="896.9961"/><polygon fill="#000000" points="355.543,886.9961,359.543,896.9961,363.543,886.9961,359.543,890.9961" style="stroke:#000000;stroke-width:1;"/><!--SRC=[RLCzRnD14EtlLqmNMt8a6XfR288Jec08mJQfBA6zs_NTodkpnzukIUWG4bH80KeQB4H1FWGeqFWKKPoL_x7y4kRi40noSLyxCs_clJUNZoHcpB0KGXQDOgCTyhPMsi1U8gq8ygjudZ2kzoJ6C6GgNuoi6QFtvaMX8fI541T3vfJjYtsxfcICgK0B4Ts4MSXI4eKzo0HeOnEz44WrwYWnEXLWZHD1OALL0Xww0_ekJp01cpYw_EGqWwVb1zZtnIceyXouBxuGhYzUkI38BJCs29hJGr-yZc0e2UDkxy7slG7M5X8XzvEF21d1VIPMANkciTwYkZw5d-DIyEO0Loj0XQnwkqg9c1MnDWSDo9aIUPVXg8fRFnbhM8bq6X9dlbAXzoevC19zmp0VQfCACy1VBzy27MekGAIXu9o4fsGvXDhcpYE8ohDgsXzuiqxq1KAjNPxL0u3c-iRkLdi3Ra3aE6i5Wgo2MYSflsFyNpnp54OkXpJ39f5vBu6OZn4u8s5JNtoAI9-GAKR3FURCifaOjvrK7EwiRVLw896BVJeq8XFC4doUALazgL4x8R4Hhb_ha0HfHf9Zx2V73Z2HvH6s_cG3Yvd4UKs_F4d1wcorywyNzkBhnPWsp_hYsm39-YESJx0KPNfOZeb1BCinsRDZH2HpgV5Mfm7tkzq6RA-tDvSMxlh9EOGanGi7qpU-U5SrFAQ-nitc9RKk6Su9L_y8yQfr7OALVl8pgypGv8dCBnsXvQ7Y6CBPjeueny8JHzp8md4q1rxMzszHgzfVdGM_0G00]--></g></svg>